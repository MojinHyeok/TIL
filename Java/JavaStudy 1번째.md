**학습할 내용.**

- JVM이란 무엇인가
- 컴파일하는 방법
- 실행하는 방법
- 바이트코드란 무엇인가
- JIT 컴파일러란 무엇이며 어떻게 동작하는지
- JVM 구성 요소
- JDK와 JRE의 차이

## **JVM이란 무엇인가?**

\- JVM은 (Java Virtual Machine)으로 컴퓨터가 자바 프로그램을 실행할 수 있도록 도와주는 것을 말합니다.

\- JVM을 사용함으로 자바가 운영체제 종류에 영향을 받지 않고 실행이 가능하게 됩니다.(Write One, Run Anywher)

\- 운영체제 위에서 동작하는 프로세스로 자바 코드를 컴파일하여 얻은 바이트코드를 해당 운영체제가 이해할 수 있는 기계어로 바꿔 실행시켜 주는 역할을 합니다.

\- JVM을 사용함으로 메모리 관리를 개발자가 하지 않고 JVM에서 메모리 관리를 수행합니다.

\- JVM은 Java언어에 종속되는 것이 아니라 Kotlin, Groovy 등 여러 언어에서 JVM을 이용합니다.



## **컴파일하는 방법**

Java코드를 JVM에서 바로 실행할 수 있는 것은 아니고, 컴퓨터가 읽을 수 있는 언어로 변환하는 과정을 진행해야 합니다.

이때, 컴퓨터가 읽을 수 있는 언어로 변환된 코드를 Java ByteCode라고 합니다.

컴파일을 수행하며, 문법에 맞지 않을 경우 오류가 발생하는데, 이러한 오류를 컴파일 에러라고 합니다.



## **실행하는 방법**

Java.exe파일을 사용하여 바이트코드로 컴파일된. class 파일 실행 

java 소스파일명

을 통해 실행할 수 있습니다. 실행 시에는 소스파일의 확장자는 붙이지 않습니다.



바이트코드 :

플랫폼에 대한 종속성 없이 JVM에서 실행되는 바이너리 코드입니다.

\- JVM이 이해할 수 있는 언어로 변환된 자바 소스코드를 의미합니다.





## **JIT란 무엇인가?**



Just In Time 컴파일러라고 하여 런타임에 인터프리터 방식으로 동작하는 Java의 한계를 보완환 기술입니다.

기존 JIT가 등장하기 이전에는 코드를 한 줄 한 줄 읽어서 기계어로 번역을 실행하였습니다. 사전에 컴파일 과정을 거쳤다고 하더라도, 이런 번역과정의 반복은 실행속도를 느려 Java가 실행속도가 느리다는 인식을 가져왔습니다. 

하지만 JIT의 등장으로 인해 속도가 많이 향상되었습니다.

자바 가지고 프로그램을 실행할 때, 바이트코드를 기계가 읽을 수 있게 번역을 진행합니다.

그런데 코드 중에 반복되는 코드, 자주 실행되는 코드에 대해서 JIT 컴파일러가 기계어로 변환을 하여 캐싱을 하여 재사용합니다.

이렇기 때문에 Java에 대한 성능을 상당히 개선시킬 수 있습니다.



## **JVM 구성요소**

스레드별 : PC Register, JVM Stack, Native Method Stack

공통: Method Area, Heap

**자바 메모리 구조는 크게 5가지 영역으로 구성되어 있는데요,**

**우선, 스레드마다 PC Register, JVM Stack, Native Method Stack, 이 있고요**

**그리고 공통으로는 Heap과 Method Area가 있습니다.**

- PC Register: 현재 실행 중인 명령어의 주소를 저장하는 공간입니다.
- JVM Stack: 메서드 호출 시 매개변수, 지역변수, 리턴 값 등을 저장하는 공간입니다.
- Native Method Stack: 네이티브 메소드 호출 시 사용되는 공간입니다.
- Method Area: 클래스, 인터페이스, 메서드, 필드 등의 정보가 저장되는 공간입니다.
- Heap: 객체와 배열이 저장되는 공간입니다.



## **JDK와 JRE의 차이**

JDK : Java Development Kit로 자바 개발 도구.

JRE : Java Runtime Environment로 자바 실행 환경

자바 9 버전 이후부터는 JRE가 없습니다.(JDK 안에 JRE가 제공되어 있어 중복이라 여겨) 



## **공부하며 배운 내용 지식 :**

Java14 버전으로 컴파일하고, Java8로 실행할 경우 실행이 안된다.

Java8 버전으로 컴파일하고, java14로 실행할 경우 실행이 된다.

상위 버전으로 컴파일할 경우, 컴파일 버전에 옵션을 주어 가능하게 한다는 점.(컴파일 호환설정)



언제 에러가 나는 게 좋을지?

컴파일타임, 런타임? 

컴파일에러가 뜬다면, 바로바로 찾을 수 있기 때문에 더 좋다.(빨간불로 코드에 나타난다.) 런타임에러는 실행 중에 찾아야 하니 에러가 찾기가 어렵다.
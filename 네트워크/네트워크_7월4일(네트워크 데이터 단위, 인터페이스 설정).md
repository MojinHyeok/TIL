2022.07.04네트워크

# 네트워크 데이터 단위 정리

데이터 단위 정리 

![img](https://blog.kakaocdn.net/dn/cpsiNQ/btrGuSUAIHe/f225kkknCv212KGMXHFfgk/img.png)

유저모드 App 수준 Precess수준에서는 즉 다른말로는 Socket수준에서는 Stream Data다

Stream 이란 그 끝을 알수 없는 일렬로 쭈욱 이어지는 데이터다.

그걸 네트워크로 보낼 때는 분해가 일어나게 되는데 그걸 Segmentation라 하는데 짤려진 조각 하나하나를 Segment이라고하는데  그걸 인터넷 환경에서 전송가능한 형태가 Packet이라고하는데 Packet의 최대크기는 1500bytes는 실어나를 떄는 Frame데이터에 넣어 전송하게 된다.

비트 프레임 패킷 세그먼트

가상 메모리 관리 기법 중 크기 기준으로 나누는 paging 기법과 의미 단위로 나누는 segment 기법 그리고,  물리적 메모리를 frame 단위로 나누는 내용이 이렇게 이어지고 물리적 메모리라서 HW 층에서 Frame이고, kernel 영역에서 segment로 바뀐다.

socket에 stream형태로 쓴 데이터를 세그먼테이션으로 mss사이즈만큼 잘라서 tcp계층에 전달하고, ip계층에서 패킷이라는 형태로 변경하는데 mtu만큼의 사이즈가 최대치.. mss는 mtu 이하의 크기를 갖고, mtu는 일반적으로 1500바이트.. 패킷은 다시 프레임이라는 형태로 encapsulation해서 보낸다!

MTU(Maximum Transfer Unit) 란

한 패킷으로 전송할 수 있는 데이터 단위의 크기

MSS(Maxmium Segment Unit)이란?

한 패킷에 각종 Header를 제외한 순수 데이터의 크기

# 네트워크 인터페이스 선택 원리와 기준



![img](https://blog.kakaocdn.net/dn/cpYlHG/btrGrY22VJg/Dw6m66jpYY4ahpgiELPja0/img.png)

노트북의 경우 유선네트워크와 무선네트워크가 연결되어있다면 IP 주소가 2개가 할당 될 것입니다.

여기서 유선의 경우 KT 그리고 무선의 경우 SKT로하였을 때 이 노트북의 경우 Chrome을 켰을 때 socket은 tcp를 거쳐 어떤 IP에게 할당하게될것 인가 ? 

이것의 정답은 라우팅 테이블을 통해 가장 비용(메트릭) 이 작은 경로를 선택한다.

이것은 운영체제나 사용자가 가장 비용이 적게 드는 네트워크를 선택한다.



\

1. 스위치와 라우터의 차이점. 여러 호스트들을 하나의 네트워크로 묶어주면 스위치이고 거기에 다른 네트워크와 연결 및 경로 설정의 기능이 추가되면 라우터인 것인지 궁금합니다. 

   답변: L3 스위치가 라우팅 프로토콜을 지원한다면 라우터다.

2.  호스트의 식별자인 ip주소는 가상(private) ip이고 호스트가 소속된 네트워크를 대표하는 라우터나 스위치같은 장치들의 ip가 공인(public) ip가 맞는 것인지 궁금합니다.  

   답변: Private IP는 가상 IP가 아니라 사설 IP입니다. 아마도 부하분산장치에서 사용되는 가상IP 개념과 혼돈이 있는 것 같습니다. 공인 IP는 PC에도 부여합니다. 질문 내용상 공유기에서 언급되는 내용이 아닌가 추측해봅니다.

3.  송신자가 최초로 정보(패킷)를 송신하려고 할 때는 수신자의 주소 즉 목적지 주소 (상대의 공인 ip, 가상 ip, mac 주소 등) 를 모르는 상태일 것 같은데 이때는 어떻게 정보를 송신할 수 있는 것인지 궁금합니다. 

   답변 :상대방 IP주소를 모르면 TCP/IP연결이 불가능합니다. 전화번호를 모르면 전화를 할 수 없는 것과 같습니다. 그리고 MAC주소는 알 필요가 없습니다.

   



VIP에대한 설명

https://run-it.tistory.com/44